Master Prompt: SMVITM Technical Forum (Stack Overflow Clone with Groq AI)
Role: You are a Principal Full Stack Engineer and UI/UX Designer. Objective: Build a robust, production-ready Stack Overflow clone tailored for SMVITM students. Core Philosophy: "Anonymous Identity, Community Knowledge."

1. Tech Stack Strategy
Framework: Next.js 15 (App Router, Server Actions, React Server Components).

Database: Supabase (PostgreSQL) with Row Level Security (RLS).

ORM: Prisma.

AI Provider: Groq Cloud (using groq-sdk) for ultra-fast inference.

Model: llama3-8b-8192 or mixtral-8x7b-32768.

Styling & UI: Tailwind CSS, Shadcn/UI (for components), and Lucide React (icons).

Rich Text: Tiptap or MDXEditor (support for code blocks + syntax highlighting is mandatory).

2. UI/UX Requirements (The "Stack Overflow" Look & Feel)
The application must follow a classic 3-Column Layout for desktop:

Left Sidebar (Navigation):

Links: Home, Questions, Tags, Users (Pseudonyms only), Unanswered.

User Card: "Welcome, [RedBird]" + Reputation Score.

Center Column (Main Content):

Feed: Question summary cards with stats on the left (Votes, Answers, Views).

Question Detail:

Large Up/Down voting arrows on the left.

"Accepted Answer" green checkmark.

Syntax Highlighting: Use shiki or prismjs for code blocks within posts.

Right Sidebar (Widgets):

"Hot Network Questions": Top 5 trending posts.

"AI FAQ Corner": A widget displaying the latest insights generated by Groq.

"Moderation Queue": (Visible only to Mods) Shows pending post count.

3. Functional Specifications & Logic
A. The "Pseudonym-First" Identity System

Auth: Supabase Auth (Email/Password).

Profile Logic:

Use a PostgreSQL TRIGGER on auth.users to create a public.profiles row on signup.

Constraint: User must select a unique pseudonym (e.g., "RedBird").

Privacy: The API must strictly exclude the email field when fetching profiles. The frontend should never receive student emails.

B. Dual-Mode Moderation (Global Setting)

Config: A forum_settings table with auto_approve_enabled (Boolean).

Posting Logic:

Fetch auto_approve_enabled.

If true: Status = APPROVED.

If false: Status = PENDING.

Mod Dashboard:

Route: /mod/queue.

SLA: Highlight posts pending > 2 hours in Red.

C. The "Ever-Growing" FAQ Engine (Powered by Groq)

Triggers: A Cron job (e.g., Vercel Cron or Inngest) runs every 24 hours.

Data Source: Fetch all APPROVED questions from the last 24h that have at least one answer with >0 votes.

Groq Integration:

Initialize Groq client: const groq = new Groq({ apiKey: process.env.GROQ_API_KEY });

System Prompt: "You are a technical documentation expert. Summarize the following User Question and Answer into a generic, clean FAQ format. Return strictly JSON: { question: string, answer: string, tags: string[] }."

Model: Use llama3-70b-8192 for high-quality summarization.

Storage: Save the output to the AI_FAQ table.

4. Database Schema (Prisma)
Ensure strict relations between users (pseudonyms) and their content:

Code snippet

// Enums
enum Role {
  STUDENT
  MODERATOR
}

enum PostStatus {
  PENDING
  APPROVED
  REJECTED
}

// Models
model GlobalSettings {
  id                 Int     @id @default(1)
  auto_approve_enabled Boolean @default(false)
}

model Profile {
  id          String    @id @default(uuid())
  userId      String    @unique // Supabase Auth ID
  pseudonym   String    @unique // Public Display Name
  reputation  Int       @default(0)
  role        Role      @default(STUDENT)
  questions   Question[]
  answers     Answer[]
  votes       Vote[]
}

model Question {
  id          String     @id @default(cuid())
  title       String
  content     String     @db.Text
  views       Int        @default(0)
  status      PostStatus @default(PENDING)
  authorId    String
  author      Profile    @relation(fields: [authorId], references: [id])
  tags        Tag[]
  answers     Answer[]
  votes       Vote[]
  createdAt   DateTime   @default(now())
}

model Answer {
  id          String   @id @default(cuid())
  content     String   @db.Text
  isAccepted  Boolean  @default(false)
  questionId  String
  question    Question @relation(fields: [questionId], references: [id])
  authorId    String
  author      Profile  @relation(fields: [authorId], references: [id])
  votes       Vote[]
}

model Tag {
  id          String     @id @default(cuid())
  name        String     @unique
  questions   Question[]
}

model Vote {
  id          String   @id @default(cuid())
  value       Int      // 1 or -1
  profileId   String
  profile     Profile  @relation(fields: [profileId], references: [id])
  questionId  String?
  question    Question? @relation(fields: [questionId], references: [id])
  answerId    String?
  answer      Answer?   @relation(fields: [answerId], references: [id])
  
  @@unique([profileId, questionId])
  @@unique([profileId, answerId])
}

model AI_FAQ {
  id               String   @id @default(cuid())
  topic            String
  question         String
  answer           String   @db.Text
  sourceQuestionId String?
  generatedAt      DateTime @default(now())
}
5. Implementation Steps for the Assistant
Project Setup: Initialize Next.js 15, install groq-sdk, @prisma/client, and shadcn-ui.

Database: Setup Supabase and run npx prisma db push.

Layout System: Build the SidebarLayout component ensuring the "Stack Overflow" grid density.

Auth & Profiles: Implement the onboarding flow. Ensure the backend refuses profile creation without a pseudonym.

Q&A Features: Implement the rich text editor (Tiptap) and the voting mechanism.

Groq AI Service:

Create a utility lib/groq.ts.

Create an API route /api/cron/generate-faq that fetches recent solved questions, sends them to Groq, and writes to the AI_FAQ table.